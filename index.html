<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <title>Research for Development Evidence Gap Map</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"/>

    <!-- Bootstrap Multiselect -->
    <!-- <link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css"/>  -->

    <!-- Font Awesome -->
    <link href="css/all.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css">

    <!-- Custom styles -->
    <link href="css/igd-egm.css" rel="stylesheet" />

    <!-- Google Analytics -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VSZXM39PWX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-VSZXM39PWX');
    </script>
  </head>

  <body class="d-flex flex-column h-100">
  <div id="app" v-cloak>
    <transition>
      <div v-if="loading" class="d-flex justify-content-center">
        <div class="spinner-border loading-spinner" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
      <div v-else>
      <keep-alive include="egm_layout">
        <router-view :documents="documents" :filter_categories="filter_categories" :config='config'></router-view>
      </keep-alive>
      </div>
    </transition>
  </div>

  <script type="text/x-template" id="config-footer-component">
    <div>
    <footer class="footer mt-auto bg-dark" :style="`background: ${config.colors.titleBackgroundColor} !important;`">
      <div class="wash-200">
        <div class="container-fluid">
          <div class="row py-4">
            <div class="col-lg-3 desc-col text-center text-lg-left">
              <p class="my-0 text-muted pb-4 pb-lg-0">
                {{config.footerSection.text}}
              </p>
            </div>
            <div class="col-lg-9">
              <div class="row brand-line">
                <div class="col-sm-3 py-3" v-for="foot in config.footerSection.partners">
                  <a :href="foot.link" target ="_blank">
                  <img
                    :src="foot.imageLocation"
                    :class="`img-fluid img-${foot.size}`"
                    :alt="foot.name"
                  />
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid">
        <div class="row py-3 cpy-line">
          <div class="col-md-6">
            <p class="text-white-50 mb-0 text-center text-md-left">
              Copyright &copy; 2021
              <a class="text-reset" href="https://www.nd.edu"
                >University of Notre Dame</a
              >
            </p>
          </div>
          <div class="col-md-6">
            <p class="text-white-50 mb-0 text-center text-md-right">
              <a class="text-reset" href="https://pulte.nd.edu"
                >Pulte Institute for Global Development</a
              >
            </p>
          </div>
        </div>
      </div>
    </footer>
  </div>
  </script>

    <script type="text/x-template" id="egm-layout">
      <div>
        <header>
          <div class="bg-dark" :style="`background-color: ${config.colors.titleBackgroundColor} !important;`">
            <div class="container" id="top-container">
              <div class="row mt-3 mb-2 align-items-center">
                <div class="col-md-6 col-lg-5">
                  <h1 id="egm-title" class="my-0 text-vb-lt-blue"><span>{{config.titleContents.mainTitle}}</span><br/>{{config.titleContents.mainSubtitle}}</h1>
                  <h5 id="egm-tagline" class="mt-1 mb-0 text-soft font-weight-light">{{config.titleContents.mainTagline}}</h5>
                </div>
                <div class="col-md-6 col-lg-7">
                  <p class="p-inst text-soft mt-2 mb-0 d-none d-md-block">
                    {{config.titleContents.mainDescription}}
                  </p>
                </div>
              </div>
            </div>
          </div>
          <!-- NAVBAR -->
          <nav class="navbar navbar-expand-md navbar-dark bg-dark" :style="`background-color: ${config.colors.titleBackgroundColor} !important;`"> 
            <!--    <a class="navbar-brand" href="index.html">PSE Evidence Gap Map</a> -->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                  <!-- <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                      <a class="nav-link" href="./faq.html">FAQ</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="./files/EVIDENCE_GAP_MAP_USER_MANUAL.pdf" target="_blank">EGM Instructions</a>
                    </li>
                  </ul> -->
                </div>
              </nav>
        </header>
        <main role="main">
          <div class="wash-200" :style="`background: ${config.colors.searchColor}`">
            <div class="container-fluid pt-3 pb-4 mb-4">
              <div class="row pb-3 justify-content-center">
                <div class="col-auto">
                  <ul class="nav nav-map-toggle">
                    <li class="nav-item">
                      <a class="nav-link disabled" href="#">View:</a>
                    </li>
                    <li class="nav-item">
                      <router-link :to="{name: 'egm'}" class="nav-link text-uppercase">Map</router-link>
                    </li>
                    <li class="nav-item">
                      <router-link :to="{name: 'list'}" class="nav-link text-uppercase">List</router-link>
                    </li>
                    
                  </ul>
                </div>
              </div>
              
              <div class="row no-gutters align-items-center">
                <div class="col-md-11">
                  <div class="row no-gutters filters" id="filter-row">
                    <div class="col" v-for="(lookup, name) in config.searchOptions">
                      <vue-multiselect v-model="filters[name]" :searchable="false" :multiple="true" :showLabels="false" :closeOnSelect="false" :options="filter_categories[lookup]" @input="filter_change" >
                        <template slot="selection" slot-scope="{ values }">
                          <span class="multiselect__single" v-if="values.length > 1">{{ values.length }} options selected</span>
                          <span class="multiselect__single" v-else-if="values.length === 1">{{ values[0] }}</span>
                          <span class="multiselect__single" v-else>{{lookup}}</span>
                        </template>
                      </vue-multiselect>
                    </div>
                </div>
              </div>

              <div class="col-md-1 text-center text-md-left">
                <a class="btn btn-light btn-sm rounded-pill ml-2 mt-2 mt-md-1 text-small" role="button" title="Reset filters" @click="reset_filters" ><i class="fas fa-redo"></i> Reset</a>
              </div>
            </div> 
            <!-- end filters -->

              <div class="row pt-3 justify-content-center">
                <div class="col-sm-12 col-lg-8">
                  <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search by Author, Title, Key Findings..." aria-label="Search" aria-describedby="basic-addon2" v-model="search" v-on:keyup.enter="filter_change" >
                    <div class="input-group-append" @click="filter_change" style="cursor:pointer">
                      <span class="input-group-text" id="basic-addon2"><i class="fas fa-search"></i></span>
                    </div>
                  </div>
                </div>
              </div> 
              <!-- end search bar -->
                  <div class="row pt-3 justify-content-center">
                    <div class="col-md-4">
                      <vue-multiselect v-model="rows_selected" :searchable="false" :multiple="true" :showLabels="false" :closeOnSelect="false" :options="Object.keys(config.rows)">
                        <template slot="selection" slot-scope="{ values }">
                          <span class="multiselect__single" v-if="values.length > 1">{{ values.length }} options selected</span>
                          <span class="multiselect__single" v-else-if="values.length === 1">{{ values[0] }}</span>
                          <span class="multiselect__single" v-else>Select Rows</span>
                        </template>
                      </vue-multiselect>
                    </div>
                    <div class="col-md-1 text-center text-md-left">
                      <a class="btn btn-light btn-sm rounded-pill ml-2 mt-2 mt-md-1 text-small" role="button" title="Reset filters" @click="reset_rows" ><i class="fas fa-redo"></i> Reset</a>
                    </div>
            </div>
            <div class="row pt-3 justify-content-center">
                <button class="btn btn-light" @click="copy_link_with_filters" style="border-radius: 5px; background-color: #fff;">
                  <i class="fas fa-share-square"></i> Share View
                </button>
              </div>
              <!-- <div class="row pt-3 justify-content-center">
                <br />
                <select v-model="rows_selected" multiple>
                  <option v-for="(value, key) in config.rows">{{key}}</option>
                </select>
              </div> -->
              <!-- end row filters -->
            </div>
          </div>

          <keep-alive>
              <router-view :filtered_documents="filtered_documents" :config="config" :rows_displayed="rows_displayed"></router-view>
          </keep-alive>
        </main>
        <footer-component :config='config' />
      </div>
    </script>

    <script type="text/x-template" id="map-component">
      <div>
          <div v-if="true" class="container-fluid" id="table-container">
            <div class="row no-gutters d-none d-lg-block">
              <table class="table egm-table" id="combined-table">
                <thead>
                <tr>
                  <th scope="col" class="set-group-title-vert-width"></th>
                  <th scope="col"></th>
                  <th scope="colgroup" colspan="4" class="group-title group-title-pse" :style='`background:${config.colors.columnHeaderLeftColor};`'>
                    {{config.columnTopHeaders.headerLeft}}
                  </th>
                  <th scope="colgroup" colspan="4" class="group-title group-title-usaid" :style='`background:${config.colors.columnHeaderRightColor};`'>
                    {{config.columnTopHeaders.headerCenter}}
                    </a>
                  </th>
                  <th scope="colgroup" colspan="2" class="group-title group-title-usaid" :style='`background:${config.colors.columnHeaderRightColor};`'>
                    {{config.columnTopHeaders.headerRight}}
                    </a>
                  </th>
                  <th scope="col" class=""></th>
                  <th scope="col" class="set-group-title-vert-width"></th>
                </tr>
                <tr>
                  <th scope="col"></th>
                  <th scope="col"></th>

                  <!-- Column Headers Left Side -->
                  <th v-for="header in config.columnHeadersLeft" scope="col" class="value" :title="header.title" >
                    <div class="clip-content">
                      <span class="float-right">
                        <a tabindex="0" data-toggle="popover" data-trigger="focus" data-placement="bottom" :title="header.title"  :data-content="header.description">
                  <i class="fas fa-info-circle"></i>
                  </a>
                  </span>{{header.titleLineOne}}</div>
                  <div class="clip-content">{{header.titleLineTwo}}</div>
                  <div class="clip-content">{{header.titleLineThree}}</div>
                  <div class="clip-content">{{header.titleLineFour}}</div>
                  </th>
                  <!-- Column Headers Right Side -->
                  <th v-for="header in config.columnHeadersRight" scope="col" class="value" :title="header.title">
                  <div class="clip-content">
                  <span class="float-right">
                  <a tabindex="0" data-toggle="popover" data-trigger="focus" data-placement="bottom" :title="header.title"  :data-content="header.description">
                  <i class="fas fa-info-circle"></i>
                  </a>
                  </span>{{header.titleLineOne}}</div>
                  <div class="clip-content">{{header.titleLineTwo}}</div>
                  <div class="clip-content">{{header.titleLineThree}}</div>
                  <div class="clip-content">{{header.titleLineFour}}</div>
                  </th>
                  <th scope="col" class=""></th>
                  <th scope="col" class=""></th>
                </tr>
                </thead>
                <tbody>
                <!-- Row Headers -->
                <tr v-for="(rowHeader, count) in rows_displayed">
                  <th class="group-title-vert" :rowspan="rows_displayed.length" v-if="count === 0" :style='`background:${config.colors.sideHeaderColor};`'>
                    <div class="title-rotate">
                      {{config.sideHeader}}
                      </a>
                    </div>
                  </th>
                  <th scope="row" class="engage" :title="rowHeader.title">
                    <div class="clip-content">
                        <span class="float-right">
                        <a tabindex="0" data-toggle="popover" data-trigger="focus" data-placement="right" :title="rowHeader.title" :data-content="rowHeader.title">
                          <i class="fas fa-info-circle"></i>
                        </a>
                        </span>
                    {{rowHeader.titleLineOne}}</div>
                    {{rowHeader.titleLineTwo}}
                    <div class="clip-content">{{rowHeader.titleLineThree}}</div>
                    <div class="clip-content">{{rowHeader.titleLineFour}}</div>
                  </th>
                  <td v-for="index in [0, 1, 2, 3, 4]">
                    <matrix-cell
                            v-bind:count="filtered_summary[rowHeader.rowNumber][index]"
                            :color_base="`${config.colors.leftSideTableColorRGBValues}`"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: rowHeader.rowNumber })" />
                  </td>

                  <td v-for="index in [5, 6, 7, 8, 9]">
                    <matrix-cell
                            v-bind:count="filtered_summary[rowHeader.rowNumber][index]"
                            :color_base="`${config.colors.rightSideTableColorRGBValues}`"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: rowHeader.rowNumber })" />
                  </td>
                  <th scope="row" class="engage" :title="rowHeader.title">
                    <div class="clip-content">
                          <span class="float-right">
                          <a tabindex="0" data-toggle="popover" data-trigger="focus" data-placement="left" :title="rowHeader.title" :data-content="rowHeader.title">
                            <i class="fas fa-info-circle"></i>
                          </a>
                          </span>
                        {{rowHeader.titleLineOne}}</div>
                      {{rowHeader.titleLineTwo}}
                    <div class="clip-content">{{rowHeader.titleLineThree}}</div>
                    <div class="clip-content">{{rowHeader.titleLineFour}}</div>
                  </th>
                  <th class="group-title-vert" :rowspan="rows_displayed.length" v-if="count === 0" :style='`background:${config.colors.sideHeaderColor};`'>
                    <div class="title-rotate">
                      {{config.sideHeader}}
                      </a>
                    </div>
                  </th>
                </tr>
                </tbody>
              </table>
            </div>

            <!-- Responsive View of Above Code -->
            <div class="row no-gutters d-lg-none">
              <div class="col-lg-6">
                <table class="table egm-table" id="pse-table">
                  <thead>
                  <tr>
                    <th scope="col" class="set-group-title-vert-width"></th>
                    <th scope="col"></th>
                    <th scope="colgroup" colspan="4" class="group-title" :style='`background:${config.colors.columnHeaderLeftColor};`'>
                      {{config.columnTopHeaders.headerLeft}}
                    </th>
                    <th scope="colgroup" colspan="1" class="group-title" :style='`background:${config.colors.columnHeaderLeftColor};`'></th>
                  </tr>
                  <tr>
                    <th scope="col"></th>
                    <th scope="col"></th>
                    <th v-for="header in config.columnHeadersLeft" scope="col" class="value" :title="header.title" >
                    <div class="clip-content">
                      <span class="float-right">
                        <a
                            tabindex="0" 
                            data-toggle="popover"
                            data-trigger="focus"
                            data-placement="bottom"
                            :title="header.title" 
                            :data-content="header.description"
                        >
                          <i class="fas fa-info-circle"></i>
                        </a>
                    </span>{{header.titleLineOne}}</div>
                    <div class="clip-content">{{header.titleLineTwo}}</div>
                    <div class="clip-content">{{header.titleLineThree}}</div>
                    <div class="clip-content">{{header.titleLineFour}}</div>
                  </th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr v-for="(rowHeader, count) in rows_displayed">
                    <th class="group-title-vert" :rowspan="rows_displayed.length" v-if="count === 0" :style='`background:${config.colors.sideHeaderColor};`'>
                      <div class="title-rotate">
                        {{config.sideHeader}}
                        </a>
                      </div>
                    </th>
                  <th scope="row" class="engage" :title="rowHeader.title">
                    <div class="clip-content">
                        <span class="float-right">
                        <a
                                tabindex="0" 
                                data-toggle="popover"
                                data-trigger="focus"
                                data-placement="right"
                                :title="rowHeader.title" 
                                :data-content="rowHeader.title"
                        >
                          <i class="fas fa-info-circle"></i>
                        </a>
                        </span>
                    {{rowHeader.titleLineOne}}</div>
                    {{rowHeader.titleLineTwo}}
                    <div class="clip-content">{{rowHeader.titleLineThree}}</div>
                    <div class="clip-content">{{rowHeader.titleLineFour}}</div>
                  </th>
                    <td v-for="index in [0, 1, 2, 3, 4]">
                      <matrix-cell
                              v-bind:count="filtered_summary[rowHeader.rowNumber][index]"
                              :color_base="config.colors.leftSideTableColorRGBValues"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: rowHeader.rowNumber })" />
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-lg-6">
                <table class="table egm-table mt-4 mt-lg-0" id="usaid-table">
                  <thead>
                  <tr>
                    <th scope="col" class="d-lg-none set-group-title-vert-width"></th>
                    <th scope="col" class="d-lg-none"></th>
                    <th scope="colgroup" colspan="3" class="group-title" :style='`background:${config.colors.columnHeaderRightColor};`'>
                      {{config.columnTopHeaders.headerCenter}}
                    </th>
                    <th scope="colgroup" colspan="2" class="group-title" :style='`background:${config.colors.columnHeaderRightColor};`'>
                      {{config.columnTopHeaders.headerRight}}
                    </th>
                    <th scope="col" class="d-none d-lg-table-cell"></th>
                    <th scope="col" class="d-none d-lg-table-cell set-group-title-vert-width"></th>
                  </tr>
                  <tr>
                    <th scope="col" class="d-lg-none"></th>
                    <th scope="col" class="d-lg-none"></th>
                    <th v-for="header in config.columnHeadersRight" scope="col" class="value" :title="header.title" >
                  <div class="clip-content">
                  <span class="float-right">
                  <a
                      tabindex="0" 
                      data-toggle="popover"
                      data-trigger="focus"
                      data-placement="bottom"
                      :title="header.title" 
                      :data-content="header.description"
                  >
                  <i class="fas fa-info-circle"></i>
                  </a>
                  </span>{{header.titleLineOne}}</div>
                  <div class="clip-content">{{header.titleLineTwo}}</div>
                  <div class="clip-content">{{header.titleLineThree}}</div>
                  <div class="clip-content">{{header.titleLineFour}}</div>
                  </th>
                    <th scope="col" class="d-none d-lg-table-cell"></th>
                    <th scope="col" class="d-none d-lg-table-cell"></th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr v-for="(rowHeader, count) in rows_displayed">
                    <th class="d-lg-none d-lg-table-cell group-title-vert" :rowspan="rows_displayed.length" v-if="count === 0" :style='`background:${config.colors.sideHeaderColor};`'>
                      <div class="title-rotate">
                        {{config.sideHeader}}
                        </a>
                      </div>
                    </th>
                  <th scope="row" class="engage" :title="rowHeader.title">
                    <div class="clip-content">
                        <span class="float-right">
                        <a
                                tabindex="0" 
                                data-toggle="popover"
                                data-trigger="focus"
                                data-placement="right"
                                :title="rowHeader.title" 
                                :data-content="rowHeader.title"
                        >
                          <i class="fas fa-info-circle"></i>
                        </a>
                        </span>
                    {{rowHeader.titleLineOne}}</div>
                    {{rowHeader.titleLineTwo}}
                    <div class="clip-content">{{rowHeader.titleLineThree}}</div>
                    <div class="clip-content">{{rowHeader.titleLineFour}}</div>
                  </th>

                    <td v-for="index in [5, 6, 7, 8, 9]">
                      <matrix-cell
                              v-bind:count="filtered_summary[rowHeader.rowNumber][index]"
                              :color_base="config.colors.rightSideTableColorRGBValues"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: rowHeader.rowNumber })" />
                    </td>
                    <th class="d-none d-lg-table-cell group-title-vert" :rowspan="rows_displayed.length" v-if="rowHeader.rowNumber === 0">
                      <div class="title-rotate">
                        {{config.sideHeader}}
                        </a>
                      </div>
                    </th>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <!-- /.row tables -->
          </div>
          <!-- /.container-fluid -->
          <!-- End Responsive View -->

          <div class="container mt-5 mb-4">
            <h4>{{config.aboutSection.aboutHeader}}</h4>
            <p v-for='paragraph in config.aboutSection.paragraphs'>
              {{paragraph}}
            </p>
          </div>
          <div class="container mb-5">
          </div>
          <!-- /.container -->

          <!-- Document Modal -->
          <relevant-documents :state="docs_modal_state" :is-hidden="!show_documents_modal" @close-docs-modal="show_documents_modal = false" @update-doc-detail-id="document_detail_id = $event" />
        </main>
      </div>
    </script>

    <script type="text/x-template" id="list-component">
      <div class="container mb-5">
        <template v-for="(doc_type, index) in doc_types" :key="index" >
          <div :class="doc_type ? 'doc-type-' + doc_type.toLowerCase().replace(/[ \/]/g,'-') : 'doc-type-unknown'" >
            <h5 class="d-flex justify-content-between align-items-center px-3 text-uppercase font-weight-bolder" >
              {{ doc_type ? doc_type : 'Unknown Type' }}
              <span class="badge badge-secondary badge-pill" >{{ docs_in_categories[doc_type].length }}</span>
            </h5>
            <ul class="list-group list-group-flush mb-4">
              <li v-for="(doc, index) in docs_in_categories[doc_type]" :key="index" class="list-group-item">
                <router-link :to="{ name: 'details', params: { id: doc['Document ID'], document: doc } }" >{{ doc['Document Title'] }}<span v-if="doc['Publishing Institution(s)']">, <em>{{ doc['Publishing Institution(s)'].join(', ') }}</em></span><span v-if="doc['Year']">, <em>{{ doc['Year'] }}</em></span></router-link>
              </li>
            </ul>
          </div>
        </template>
      </div>
    </script>

    <script type="text/x-template" id="details-component">
      <div>
        <header>
          <!-- Fixed navbar -->
          <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark" :style="`background-color: ${config.colors.titleBackgroundColor} !important;`">
            <router-link :to="{name: 'egm'}" class="navbar-brand"><i class="fas fa-chevron-left mr-2"></i> Evidence Gap Map</router-link>
          </nav>
        </header>
        <div v-if="error" class="alert alert-danger details-error" role="alert">
          {{ error }}
        </div>
        <main v-if="document_details" role="main">
          <div class="bg-vb-lt-blue" :style="`background-color: ${config.colors.docTitleBackgroundColor} !important;`">
            <div class="container position-relative text-dark" id="top-document-detail">
              <h5 id="doc-type" class="mb-1 text-uppercase text-dark font-weight-bolder">
                {{ document_details['Type of Document'] }}
              </h5>
              <h1 id="doc-title" class="mb-1 text-white">
                {{ document_details['Document Title'] }}
              </h1>
              <p class="my-0" v-if="document_details['Author(s)']"><span class="text-uppercase font-weight-lighter">author:</span> {{ document_details['Author(s)'].join(', ') }}</p>
              <p class="my-0" v-if="document_details['Publishing Institution(s)']"><span class="text-uppercase font-weight-lighter">published by:</span> {{ document_details['Publishing Institution(s)'].join(', ') }}<span v-if="document_details['Year']">, {{ document_details['Year'] }}</span></p>
              <a v-if="document_details['Internet URL of Document']" class="btn btn-dark btn-lg" id="view-document-link" :href="document_details['Internet URL of Document']" target="_blank" role="button">View Document <i class="fas fa-external-link-alt ml-2"></i></a>
            </div>
          </div>

          <div class="container mt-5 mb-4">
            <div class="row">
              <div class="col-sm-7 col-lg-8">
                <h4>Key Findings</h4>
                <ul class="list-unstyled">
                  <li v-for="entry in document_findings">{{ entry }}</li>
                </ul>
                <div v-if="document_recommendations.length > 0">
                  <h4>Key Recommendations</h4>
                  <ul class="list-unstyled">
                    <li v-for="entry in document_recommendations">{{ entry }}</li>
                  </ul>
                </div>
              </div>
              <div class="col-sm-5 col-lg-4">
                <ul class="list-group mt-3">
                  <li v-if="document_details['PSE Ways We Engage']" class="list-group-item p-0 border-left-0 border-right-0">
                    <h6 class="mb-0 px-3 py-2 wash-400 narrow-font text-uppercase font-weight-bolder">PSE Ways We Engage</h6>
                    <ul class="list-unstyled px-3 py-2 list-spaced wash-100" >
                      <li v-for="(way, index) in document_details['PSE Ways We Engage']" :key="index" >{{ way.replace(';', '') }}</li>
                    </ul>
                  </li>
                  <li v-if="document_details['R4D Activities']" class="list-group-item p-0 border-left-0 border-right-0">
                    <h6 class="mb-0 px-3 py-2 bg-pse-lt-blue text-white narrow-font text-uppercase font-weight-bolder" :style="`background-color: ${config.colors.columnHeaderLeftColor};`">R4D Activities</h6>
                    <ul class="list-unstyled px-3 py-2 list-spaced wash-100">
                      <li v-for="(value, index) in document_details['R4D Activities']" :key="index" >{{value}}</li>
                    </ul>
                  </li>
                  <li v-if="document_details['R4D Outcomes']"  class="list-group-item p-0 border-left-0 border-right-0">
                    <h6 class="mb-0 px-3 py-2 bg-usaid-blue text-white narrow-font text-uppercase font-weight-bolder" :style="`background-color: ${config.colors.columnHeaderLeftColor};`">R4D Outcomes</h6>
                    <ul class="list-unstyled px-3 py-2 list-spaced wash-100">
                      <li v-for="(value, index) in document_details['R4D Outcomes']" :key="index" >{{value}}</li>
                    </ul>
                  </li>
                </ul>
                <ul class="list-group list-group-flush">
                  <li v-if="document_details['Technical Sector']" class="list-group-item">
                    <h5 class="mb-1">Technical Sector</h5>
                    <p class="mb-0" v-for="(sector, index) in document_details['Technical Sector']" :key="sector" >{{ sector }}</p>
                  </li>
                  <li v-if="document_details['Special Considerations']" class="list-group-item">
                    <h5 class="mb-1">Special Considerations</h5>
                    <p class="mb-0"v-for="(consideration, index) in document_details['Special Considerations']" :key="consideration" >{{ consideration }}</p>
                  </li>
                  <li v-if="document_details['Private Sector Industry']" class="list-group-item">
                    <h5 class="mb-1">Private Sector Industry</h5>
                    <p class="mb-0"v-for="(industry, index) in document_details['Private Sector Industry']" :key="industry" >{{ industry }}</p>
                  </li>
                  <li v-if="document_details['Country(ies)']" class="list-group-item">
                    <h5 class="mb-1">Country(ies)</h5>
                    <p class="mb-0" v-for="(country, index) in document_details['Country(ies)']" :key="country" >{{country}}</p>
                  </li>
                  <li v-if="document_details['USAID Region']" class="list-group-item">
                    <h5 class="mb-1">USAID Region</h5>
                    <p class="mb-0"v-for="(region, index) in document_details['USAID Region']" :key="region" >{{region}}</p>
                  </li>
                  <li v-if="document_details['Methodologies Used']" class="list-group-item">
                    <h5 class="mb-1">Methodologies Used</h5>
                    <p class="mb-0" v-for="(sector, index) in document_details['Methodologies Used']" :key="sector" >{{ sector }}</p>
                  </li>
                  <li v-if="document_details['Direction of Evidence']" class="list-group-item">
                    <h5 class="mb-1">Direction of Evidence</h5>
                    <p class="mb-0" v-for="(sector, index) in document_details['Direction of Evidence']" :key="sector" >{{ sector }}</p>
                  </li>
                  <li v-if="document_details['Internet URL of Document']" class="list-group-item">
                    <h5 class="mb-1">Internet URL</h5>
                    <p class="mb-0 text-small"><a :href="document_details['Internet URL of Document']" target="_blank">{{ document_details['Internet URL of Document'] || '---' | truncate(45) }}</a></p>
                  </li>
                  <li v-if="document_details['USAID-Funded?']" class="list-group-item">
                    <h5 class="mb-1">USAID Funded</h5>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </main>
        <footer-component :config='config' />
      </div>
    </script>

    <script type="text/x-template" id="relevant-docs-modal-component">
      <div v-if="!isHidden">
        <!-- <transition name="modal"> -->
          <div class="modal-mask">
            <div class="modal modal-wrapper" tabindex="-1">
              <div class="modal-dialog modal-lg modal-dialog-scrollable">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">
                      <span class="badge badge-secondary badge-pill mr-1">{{ state.num_relevant_docs }}</span>
                      Relevant Documents
                    </h5>
                    <button type="button" class="close" @click="$emit('close-docs-modal')">
                      <span>&times;</span>
                    </button>
                  </div>
                  <div class="modal-body p-0">
                    <div class="card-header">
                      <p class="mb-0 text-uppercase font-weight-lighter">
                        {{ state.value_title }}
                      </p>
                      <h5 class="mb-2">
                        {{ state.value_text }}
                      </h5>
                      <p class="mb-0 text-uppercase font-weight-lighter">
                        {{ state.way_title }}
                      </p>
                      <h5 class="mb-1">
                        {{ state.way_text.replace(';', '') }}
                      </h5>
                    </div>
                    <div class="card-body px-0 pt-0">
                      <template v-for="doc_type in doc_types">
                        <h6 class="d-flex justify-content-between align-items-center text-bluegrey mt-4 px-3 text-uppercase font-weight-bolder">
                          {{ doc_type ? doc_type : 'Unknown Type' }}
                          <span class="badge badge-secondary bg-bluegrey badge-pill">{{ docs_in_categories[doc_type].length }}</span>
                        </h6>
                        <ul class="list-group list-group-flush">
                          <li v-for="doc in docs_in_categories[doc_type]" :key="doc['Document ID']" class="list-group-item">
                            <router-link :to="{ name: 'details', params: { id: doc['Document ID'], document: doc } }" >{{ doc['Document Title'] }}<span v-if="doc['Publishing Institution(s)']">, <em>{{ doc['Publishing Institution(s)'].join(', ') }}</em></span><span v-if="doc['Year']">, <em>{{ doc['Year'] }}</em></span></router-link>
                          </li>
                        </ul>
                      </template>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <!-- </transition> -->
      </div>
    </script>

    <script type="text/x-template" id="matrix-cell-component" src="js/components/matrix-cell-component.js">
      <div class="square" v-bind:style="{ background: 'rgba(' + color_base + ',' + count/50 + ')'}">
        <a class="count" v-show="count > 0" @click="$emit('show-docs-modal')" v-bind:style="{ color: 'rgb(' + color_base + ')'}">
          {{count}}
        </a>
      </div>
    </script>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <!-- VueJS From CDN -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-router@3.1.5"></script>

    <!-- axios From CDN -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- Vue Multiselect from CDN -->
    <script src="https://unpkg.com/vue-multiselect@2.1.6"></script>


    <!-- EGM Vue App Code -->
    <script src="js/egm.js"></script>

    <script>
      $(function() {
        $('[data-toggle="popover"]').popover()
        $('[data-toggle="tooltip"]').tooltip()
      });
    </script>
  </body>
</html>
